using UnityEngine;

public class CubeSpawner : MonoBehaviour
{
    [SerializeField] GameObject _cubePrefab;

    private Renderer _renderer;
    private int _scaleDivider = 2;

    private void Start()
    {
        _renderer = GetComponent<Renderer>();
    }

    public void CreateCubes(Vector3 position)
    {
        int minCubes = 2;
        int maxCubes = 7;
        int countCubes = Random.Range(minCubes, maxCubes);
        Vector3 originalScale = transform.localScale;
        Vector3 newScale = originalScale / _scaleDivider;

        for (int i = 0; i < countCubes; i++)
        {
            Vector3 spawnPosition = new Vector3(position.x, position.y, position.z);
            GameObject newCube = Instantiate(_cubePrefab, spawnPosition, Quaternion.identity);
            newCube.transform.localScale = newScale;
        }
    }
}
